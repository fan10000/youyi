import{_ as j}from"./CpIcon-56491ba7.js";import{_ as z}from"./CpNavBar-ea159524.js";import{F as D,m as J,p as M,c as E}from"./rules-a3ea3144.js";import{u as K,b as O,d as Q}from"./vue-router-fd42b9e3.js";import{l as W,a as X}from"./user-15b71d69.js";import{u as Y}from"./index-131db99c.js";import{c as A,t as G,m as H,w as L,I as Z}from"./index-f7b1a7d1.js";import{F as ee}from"./index-da14ea08.js";import{C as oe}from"./index-009019c7.js";import{B as te}from"./index-a2a726fb.js";import{O as C,Q as a,u,o as b,R as se,S as o,T as g,U as p,K as s,c as V,V as ae,W as w,X as ne,Y as le,_ as re}from"./_plugin-vue_export-helper-4a308993.js";import{s as ie,a as ue}from"./request-4f3541ce.js";import"./use-placeholder-ca8c31e0.js";import"./consult-7375c68e.js";import"./order-59513380.js";import"./index-aff5b717.js";import"./function-call-8f5e9707.js";import"./index-23e5296c.js";import"./interceptor-4f4458bc.js";import"./index-93886e3d.js";import"./use-route-27c093b5.js";import"./use-id-7753a9b6.js";import"./index-5f55da43.js";const[pe,de]=A("divider"),ce={dashed:Boolean,hairline:G,contentPosition:H("center")};var me=C({name:pe,props:ce,setup(n,{slots:l}){return()=>{var r;return a("div",{role:"separator",class:de({dashed:n.dashed,hairline:n.hairline,[`content-${n.contentPosition}`]:!!l.default})},[(r=l.default)==null?void 0:r.call(l)])}}});const _e=L(me),ve="/assets/svg/qq-7e9221ab.svg",d=n=>(ne("data-v-6bc8b6d8"),n=n(),le(),n),fe={class:"login-page"},he={class:"login-head"},be={class:"cp-cell"},ge=d(()=>o("span",null,"我已同意",-1)),ye=d(()=>o("a",{href:"JavaScript:;"},"用户协议",-1)),ke=d(()=>o("span",null,"及",-1)),Ve=d(()=>o("a",{href:"Javascript:;"},"隐私条款",-1)),we={class:"cp-cell"},Ce=d(()=>o("div",{class:"cp-cell"},[o("a",{href:"javascript:;"},"忘记密码?")],-1)),Se={class:"login-other"},xe=d(()=>o("img",{src:ve,alt:""},null,-1)),Ue=[xe],Be=C({__name:"index",setup(n){const l=u(!1),r=u(!1),c=u(""),_=u(""),y=K(),S=O(),x=Q(),U=async()=>{if(!l.value)return ie("请勾选用户协议");const m=i.value?await W(c.value,_.value):await X(c.value,v.value);y.setUser(m.data),S.replace(x.query.returnUrl||"/user"),ue("登录成功")},i=u(!0),v=u(""),{form:B,time:f,onSend:k}=Y(c,"login"),R="https://graph.qq.com/oauth2.0/authorize?client_id=102015968&amp;response_type=token&amp;scope=all&amp;redirect_uri="+encodeURIComponent("https://cp.itheima.net/login/callback");return(m,e)=>{const $=z,I=Z,h=ee,P=j,q=oe,F=te,N=D,T=_e;return b(),se("div",fe,[a($,{"right-text":"注册",onClickRight:e[0]||(e[0]=t=>m.$router.push("/register"))}),o("div",he,[o("h3",null,g(i.value?"密码登录":"短信验证码登录"),1),o("a",{href:"javascript:;",onClick:e[1]||(e[1]=t=>i.value=!i.value)},[o("span",null,g(i.value?"短信验证码登录":"密码登录"),1),a(I,{name:"arrow"})])]),a(N,{autocomplete:"off",onSubmit:U,ref_key:"form",ref:B},{default:p(()=>[a(h,{type:"tel",name:"mobile",modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=t=>c.value=t),rules:s(J),placeholder:"请输入手机号"},null,8,["modelValue","rules"]),i.value?(b(),V(h,{key:0,modelValue:_.value,"onUpdate:modelValue":e[4]||(e[4]=t=>_.value=t),rules:s(M),type:r.value?"text":"password",placeholder:"请输入密码"},{button:p(()=>[a(P,{onClick:e[3]||(e[3]=t=>r.value=!r.value),name:`login-eye-${r.value?"on":"off"}`},null,8,["name"])]),_:1},8,["modelValue","rules","type"])):(b(),V(h,{key:1,modelValue:v.value,"onUpdate:modelValue":e[6]||(e[6]=t=>v.value=t),rules:s(E),placeholder:"短信验证码"},{button:p(()=>[o("span",{class:ae(["btn-send",{active:s(f)>0}]),onClick:e[5]||(e[5]=(...t)=>s(k)&&s(k)(...t))},g(s(f)>0?`${s(f)}s后再次发送`:"发送验证码"),3)]),_:1},8,["modelValue","rules"])),o("div",be,[a(q,{modelValue:l.value,"onUpdate:modelValue":e[7]||(e[7]=t=>l.value=t)},{default:p(()=>[ge,ye,ke,Ve]),_:1},8,["modelValue"])]),o("div",we,[a(F,{type:"primary","native-type":"submit",block:"",round:""},{default:p(()=>[w("登 录")]),_:1})]),Ce]),_:1},512),o("div",Se,[a(T,null,{default:p(()=>[w("第三方登录")]),_:1}),o("a",{class:"icon",href:R,onClick:e[8]||(e[8]=t=>s(y).updataReturnUrl(m.$route.query.redirectUrl))},Ue)])])}}});const Le=re(Be,[["__scopeId","data-v-6bc8b6d8"]]);export{Le as default};
